ver 0.24
	N_d_choose is set from register. should be mult of 3

ver 0.23
	load coeffs from ddr



ver 0.22: 

﻿added heat on off. Depends on input parameter.
N_d=36
mt04 Добавлено тепло 
N_d=36

* Summary: 

        +-----------------------------------------+-----+-----+-----------+-----------+-----------+------+----------+
        |                                         |  Latency  | Iteration |  Initiation Interval  | Trip |          |
        |                Loop Name                | min | max |  Latency  |  achieved |   target  | Count| Pipelined|
        +-----------------------------------------+-----+-----+-----------+-----------+-----------+------+----------+
        |- loop_in_1                              |  728|  728|         56|          -|          -|    13|    no    |
        | + memcpy.tmp_buf.d0.addr.bus_ptr_i.d1   |   25|   25|          3|          1|          1|    24|    yes   |
        | + loop_in_2                             |   24|   24|          2|          -|          -|    12|    no    |
        |- memcpy.temp_seeds.0.addr.bus_ptr_i.d1  |  145|  145|          3|          1|          1|   144|    yes   |
        |- seed_loop_1                            |  456|  600| 152 ~ 200 |          -|          -|     3|    no    |
        | + seed_loop_2                           |  150|  198|  50 ~ 66  |          -|          -|     3|    no    |
        |  ++ seed_loop_3                         |   48|   64|   3 ~ 4   |          -|          -|    16|    no    |
        |- time_loop                              |    ?|    ?|        478|          -|          -|     ?|    no    |
        | + l11_l21                               |  237|  237|        187|          1|          1|    52|    yes   |
        | + l12_l22                               |  237|  237|        187|          1|          1|    52|    yes   |
        |- loop_out_1                             |  845|  845|         65|          -|          -|    13|    no    |
        | + loop_out_2                            |   36|   36|          3|          -|          -|    12|    no    |
        | + memcpy.bus_ptr_i.d1.tmp_buf.d0.addr   |   25|   25|          3|          1|          1|    24|    yes   |
        +-----------------------------------------+-----+-----+-----------+-----------+-----------+------+----------+


		
+-----------------+---------+-------+---------+---------+
|       Name      | BRAM_18K| DSP48E|    FF   |   LUT   |
+-----------------+---------+-------+---------+---------+
|Expression       |        -|      -|        0|     4966|
|FIFO             |        -|      -|        -|        -|
|Instance         |        0|    498|   241430|   397439|
|Memory           |       50|      -|      128|       24|
|Multiplexer      |        -|      -|        -|    11136|
|Register         |        -|      -|    13462|      654|
+-----------------+---------+-------+---------+---------+
|Total            |       50|    498|   255020|   414219|
+-----------------+---------+-------+---------+---------+
|Available        |     2584|   2160|  2443200|  1221600|
+-----------------+---------+-------+---------+---------+
|Utilization (%)  |        1|     23|       10|       33|
+-----------------+---------+-------+---------+---------+


mt03
			Три модифицированных конвейера. N_d = 12. C добавлением тепла

        +-----------------------------------------+-----+------+-----------+-----------+-----------+------+----------+
        |                                         |   Latency  | Iteration |  Initiation Interval  | Trip |          |
        |                Loop Name                | min |  max |  Latency  |  achieved |   target  | Count| Pipelined|
        +-----------------------------------------+-----+------+-----------+-----------+-----------+------+----------+
        |- loop_in_1                              |  728|   728|         56|          -|          -|    13|    no    |
        | + memcpy.tmp_buf.d0.addr.bus_ptr_i.d1   |   25|    25|          3|          1|          1|    24|    yes   |
        | + loop_in_2                             |   24|    24|          2|          -|          -|    12|    no    |
        |- memcpy.temp_seeds.0.addr.bus_ptr_i.d1  |  163|   163|          3|          1|          1|   162|    yes   |
        |- seed_loop_1                            |  843|  1005| 281 ~ 335 |          -|          -|     3|    no    |
        | + seed_loop_2                           |  279|   333|  93 ~ 111 |          -|          -|     3|    no    |
        |  ++ seed_loop_3                         |   90|   108|   5 ~ 6   |          -|          -|    18|    no    |
        |- time_loop                              |    ?|     ?|        478|          -|          -|     ?|    no    |
        | + l11_l21                               |  237|   237|        187|          1|          1|    52|    yes   |
        | + l12_l22                               |  237|   237|        187|          1|          1|    52|    yes   |
        |- loop_out_1                             |  845|   845|         65|          -|          -|    13|    no    |
        | + loop_out_2                            |   36|    36|          3|          -|          -|    12|    no    |
        | + memcpy.bus_ptr_i.d1.tmp_buf.d0.addr   |   25|    25|          3|          1|          1|    24|    yes   |
        +-----------------------------------------+-----+------+-----------+-----------+-----------+------+----------+



		================================================================
		== Utilization Estimates
		================================================================
		* Summary: 
		+-----------------+---------+-------+---------+---------+
		|       Name      | BRAM_18K| DSP48E|    FF   |   LUT   |
		+-----------------+---------+-------+---------+---------+
		|Expression       |        -|      -|        0|     5914|
		|FIFO             |        -|      -|        -|        -|
		|Instance         |        0|    615|   247349|   405527|
		|Memory           |       50|      -|      128|       24|
		|Multiplexer      |        -|      -|        -|    12360|
		|Register         |        -|      -|    14792|      668|
		+-----------------+---------+-------+---------+---------+
		|Total            |       50|    615|   262269|   424493|
		+-----------------+---------+-------+---------+---------+
		|Available        |     2584|   2160|  2443200|  1221600|
		+-----------------+---------+-------+---------+---------+
		|Utilization (%)  |        1|     28|       10|       34|
		+-----------------+---------+-------+---------+---------+


	v03c branch created for working on urock crazy idea for getting iteration time less than 1 mcs using 3 force_plus_updated_coordinates pipelines
	
	
	Идея использовать три модифицированных конвейера calc_grad: теперь этот конвейер считает не просто силы, а сразу координаты. 
	
	Массивы координат мы будем partition по строкам. Будем обрабатывать три строки сразу. На входе в цикл загружаю три начальные координаты во временные регистры. В итерации цикла считываю три коордианты "левых" молекул и одну координаты "верхней"
	Подаю это все на конвейеры. Конвейеры обновляют координты "текущих" молекул. Временные регистры обновляются координатами "левых" молекул. 
	
	Количество строк должно быть кратно трем. Предлагается увеличить N_d до 12. 
	
	
	Вычисления разных сил (лонгитудальных и латеральных) выделены в отдельные функции-конвейеры
	
	Координаты x, y, t объеденины в одну структуру float_3d. Код почищен
	
	

		
mt01	

	revision 376  Декабрь 2014 
		Пилотный незавершенный код 
		
		
	Январь 2015 revision 378
		1. Добавил функцию calculate_constants() в mt_test.cpp, вычисляющую константы
		2. Начал работу над добавлением типа мономера 
		
	revision 379 
		Добавил тип димера и позицию мономера в димере.
		
	rev 380
		Первый последовательный код, запускающийся на CPU, функция hls_top вычисляет массивы координат в течение заданного количества шагов по времени.
		
		
	02.02.2015
	
		Первый вывод в файл
		Разбегание координат, надо проверить знаки при обновлении координат. 
		
	revision 432
	
		Первый работающий код
		- Исправлены ошибки в вычислениях teta компонент для сил взаимодействия (long) - был неправильный знак
		- поправлены константы (dt_viscPF_teta)
		- начальные условия - раскрытый венчик	
		
		
	revision 435
	
		- Почищенный и отправленный в Волгоград код 
		
		
	24.02.2015
	
		добавил mt_fpga, сравнение проходит, синтез пока не работает
		
	25.02.2015
	
		Есть синтезируемая модель. 
		first hls version for hardware implementation
		little or no hls optimizations
		
	11.03.2015
	
		Если просто синтезировать код, то получается слишком много DSP блоков (~450), что приводит к проблемам при разводке
		
		Этого можно избежать, если использовать директивы
		set_directive_resource -core Fmul_nodsp calc_grad_f Ax_left_m1
		
		Только код надо переписать так, чтобы для каждой переменной была только одна арифметическая операция
		
		Данная версия работает и тест проходит в железе 
		
		FPGA проект rc_mt_2000_2
		
		
	